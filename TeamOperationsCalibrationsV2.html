<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slalom Team Operations Track - Role Calibration Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap');
        .font-slalom { font-family: 'Open Sans', sans-serif; }
        .gradient-header { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); }
        .section-card { border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        .section-content { border-radius: 0 0 16px 16px; }
        .competency-icon { width: 40px; height: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: center; }
        .diff-highlight-a { 
            background: linear-gradient(135deg, #E0E7FF 0%, #C7D2FE 100%); 
            color: #3730A3; 
            padding: 2px 4px; 
            border-radius: 4px; 
            font-weight: 600;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .diff-highlight-b { 
            background: linear-gradient(135deg, #EDE9FE 0%, #DDD6FE 100%); 
            color: #5B21B6; 
            padding: 2px 4px; 
            border-radius: 4px; 
            font-weight: 600;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .proficiency-badge { font-size: 0.65rem; padding: 2px 8px; border-radius: 9999px; font-weight: 600; text-transform: uppercase; }
        .proficiency-beginner { background-color: #e0e7ff; color: #3730a3; }
        .proficiency-foundational { background-color: #c7d2fe; color: #3730a3; }
        .proficiency-intermediate { background-color: #a5b4fc; color: #1e1b4b; }
        .proficiency-advanced { background-color: #818cf8; color: white; }
        .proficiency-expert { background-color: #6366f1; color: white; }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'slalom-purple': '#6366f1',
                        'slalom-purple-light': '#818cf8',
                        'slalom-purple-dark': '#4f46e5',
                        'slalom-violet': '#8b5cf6',
                        'slalom-orange': '#f97316',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-slate-50 to-indigo-50 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- Icons ---
        const IconWrapper = ({ children, className = "", size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{children}</svg>
        );
        const ArrowRight = (props) => <IconWrapper {...props}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></IconWrapper>;
        const Users = (props) => <IconWrapper {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconWrapper>;
        const Briefcase = (props) => <IconWrapper {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></IconWrapper>;
        const TrendingUp = (props) => <IconWrapper {...props}><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></IconWrapper>;
        const ChevronDown = (props) => <IconWrapper {...props}><path d="m6 9 6 6 6-6"/></IconWrapper>;
        const ChevronUp = (props) => <IconWrapper {...props}><path d="m18 15-6-6-6 6"/></IconWrapper>;
        const CheckCircle = (props) => <IconWrapper {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconWrapper>;
        const Layout = (props) => <IconWrapper {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></IconWrapper>;
        const Eye = (props) => <IconWrapper {...props}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></IconWrapper>;
        const Home = (props) => <IconWrapper {...props}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></IconWrapper>;
        const Sparkles = (props) => <IconWrapper {...props}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></IconWrapper>;
        const Building = (props) => <IconWrapper {...props}><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><path d="M9 22v-4h6v4"/><path d="M8 6h.01"/><path d="M16 6h.01"/><path d="M12 6h.01"/><path d="M12 10h.01"/><path d="M12 14h.01"/><path d="M16 10h.01"/><path d="M16 14h.01"/><path d="M8 10h.01"/><path d="M8 14h.01"/></IconWrapper>;
        const Target = (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></IconWrapper>;
        const Info = (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></IconWrapper>;
        const Settings = (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></IconWrapper>;
        const Wrench = (props) => <IconWrapper {...props}><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></IconWrapper>;

        // --- Diff Logic (Market Solutions approach) ---
        const tokenize = (text) => text.split(/([\s,.!?;:()]+)/).filter(t => t);
        const isSimilar = (t1, t2) => {
            const clean1 = t1.trim().toLowerCase().replace(/[^\w]/g, '');
            const clean2 = t2.trim().toLowerCase().replace(/[^\w]/g, '');
            if (!clean1 && !clean2) return t1.trim() === t2.trim();
            return clean1 === clean2;
        };
        const getLCS = (arr1, arr2) => {
            const dp = Array(arr1.length + 1).fill(null).map(() => Array(arr2.length + 1).fill(0));
            for (let i = 1; i <= arr1.length; i++) {
                for (let j = 1; j <= arr2.length; j++) {
                    if (isSimilar(arr1[i - 1], arr2[j - 1])) dp[i][j] = dp[i - 1][j - 1] + 1;
                    else dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1]);
                }
            }
            return dp;
        };
        const computeDiff = (text1, text2) => {
            const arr1 = tokenize(text1);
            const arr2 = tokenize(text2);
            const dp = getLCS(arr1, arr2);
            let i = arr1.length;
            let j = arr2.length;
            const result1 = [];
            const result2 = [];
            while (i > 0 || j > 0) {
                if (i > 0 && j > 0 && isSimilar(arr1[i - 1], arr2[j - 1])) {
                    result1.unshift({ text: arr1[i - 1], type: 'common' });
                    result2.unshift({ text: arr2[j - 1], type: 'common' });
                    i--; j--;
                } else if (j > 0 && (i === 0 || dp[i][j - 1] >= dp[i - 1][j])) {
                    result2.unshift({ text: arr2[j - 1], type: 'unique' });
                    j--;
                } else if (i > 0 && (j === 0 || dp[i][j - 1] < dp[i - 1][j])) {
                    result1.unshift({ text: arr1[i - 1], type: 'unique' });
                    i--;
                }
            }
            return { diffA: result1, diffB: result2 };
        };
        const DiffText = ({ segments, highlightClass }) => (
            <span>
                {segments.map((seg, idx) => (
                    <span key={idx} className={seg.type === 'unique' ? highlightClass : ''}>
                        {seg.text}
                    </span>
                ))}
            </span>
        );
        const findBestMatch = (target, candidates) => {
            let bestIdx = -1;
            let maxScore = 0;
            const getWords = (str) => new Set(str.toLowerCase().split(/[\s,.!?;:()]+/).filter(w => w.length > 2));
            const targetWords = getWords(target);
            candidates.forEach((cand, idx) => {
                const candWords = getWords(cand);
                let intersection = 0;
                targetWords.forEach(w => { if (candWords.has(w)) intersection++; });
                const union = new Set([...targetWords, ...candWords]).size;
                const score = union === 0 ? 0 : intersection / union;
                if (score > maxScore) { maxScore = score; bestIdx = idx; }
            });
            return maxScore > 0.08 ? bestIdx : -1;
        };

        // --- DIFFERENTIATORS ---
        const DIFFERENTIATORS = {
            "Coordinator->Specialist": {
                "Deliver Exceptionally": {
                    "Core Expectations": "Coordinator follows established processes under direction. Specialist begins providing insight to improve those processes and can articulate how their role fits within the team context.",
                    "Skills": "Coordinator learns and follows. Specialist starts asking questions to understand 'why' and begins communicating across varying points of view."
                },
                "Grow Expertise": {
                    "Core Expectations": "Coordinator builds foundational knowledge of Slalom. Specialist actively recognizes their own growth opportunities and takes ownership of personal development.",
                    "Skills": "Coordinator seeks out coaches/mentors. Specialist builds rapport through curiosity and leverages relationships to learn more."
                },
                "Grow Slalom": {
                    "Core Expectations": "Coordinator engages within their functional group. Specialist expands engagement across Slalom and begins exploring innovative approaches in day-to-day work.",
                    "Skills": "Coordinator learns Slalom values. Specialist actively exhibits those values and engages through various channels."
                },
                "Lead": {
                    "Core Expectations": "Both roles focus on learning from mistakes, demonstrating compassion, and building collaborative relationships. Foundation remains consistent.",
                    "Skills": "Coordinator and Specialist both develop foundational emotional intelligence, feedback skills, and positive team dynamics."
                },
                "Track Specific Skills": {
                    "Core Expectations": "",
                    "Skills": "Coordinator participates and learns processes. Specialist begins owning workstreams, working with vendors, and acting with more discretion in Change Management, Event Planning, Office Management, and Scheduling."
                }
            },
            "Specialist->Senior Specialist": {
                "Deliver Exceptionally": {
                    "Core Expectations": "Specialist relies on direction from leaders. Senior Specialist works independently with minimal oversight, systematically breaks down complex tasks, and takes ownership when expectations are missed.",
                    "Skills": "Specialist asks for guidance. Senior Specialist collaborates on prioritization, manages their own calendar, drives discovery with stakeholders, and communicates cross-functionally."
                },
                "Grow Expertise": {
                    "Core Expectations": "Specialist builds knowledge progressively. Senior Specialist applies comprehensive knowledge, captures outcomes for knowledge management, and encourages open dialogue through curiosity.",
                    "Skills": "Specialist learns about Slalom's business. Senior Specialist understands how their work connects to it and seeks opportunities to expand their comfort zone."
                },
                "Grow Slalom": {
                    "Core Expectations": "Specialist explores innovation. Senior Specialist directs work that meaningfully contributes to team strategy and innovates new approaches proactively.",
                    "Skills": "Specialist develops relationships inside their group. Senior Specialist builds authentic relationships across functional groups and contributes to Slalom culture."
                },
                "Lead": {
                    "Core Expectations": "Specialist seeks support and assumes positive intent. Senior Specialist actively controls unproductive behavior, builds trusting relationships, and gives/receives feedback openly with curiosity.",
                    "Skills": "Specialist understands importance of feedback. Senior Specialist leverages frameworks like SBI+, contributes to psychological safety, and communicates respectfully through disagreement."
                },
                "Track Specific Skills": {
                    "Core Expectations": "",
                    "Skills": "Specialist owns tasks within workstreams. Senior Specialist creates communication plans, identifies when additional conversations are needed, and manages calendars with nuance and proactive collaboration."
                }
            },
            "Senior Specialist->Lead": {
                "Deliver Exceptionally": {
                    "Core Expectations": "Senior Specialist works independently. Lead works with high autonomy and latitude to explore alternative solutions, guides peers, and adapts communication style to varying audiences.",
                    "Skills": "Senior Specialist collaborates on priorities. Lead independently prioritizes by understanding objectives, analyzes problems for risks, and knows when and how to escalate."
                },
                "Grow Expertise": {
                    "Core Expectations": "Senior Specialist applies knowledge and captures outcomes. Lead encourages critical thinking in others through powerful questions and enhances team quality through their expertise.",
                    "Skills": "Senior Specialist seeks coaching. Lead identifies when to coach vs. mentor, shares experience effectively, and leverages powerful questions to develop others."
                },
                "Grow Slalom": {
                    "Core Expectations": "Senior Specialist contributes to strategy execution. Lead proactively contributes to building team vision, flags risks and opportunities, and encourages innovative thinking across the team.",
                    "Skills": "Senior Specialist innovates own work. Lead develops new methods, collaborates to surface best ideas, and puts innovative ideas into practice at scale."
                },
                "Lead": {
                    "Core Expectations": "Senior Specialist models collaborative behaviors. Lead takes on people leadership responsibilities: connecting employees to development experiences, ensuring performance expectations are clear, and translating organizational change for direct reports.",
                    "Skills": "Senior Specialist participates in development opportunities. Lead runs effective 1:1s, establishes development plans, provides frequent feedback, and manages expectations through ambiguity."
                },
                "Track Specific Skills": {
                    "Core Expectations": "",
                    "Skills": "Senior Specialist manages specific workstreams. Lead sets stakeholder expectations, manages budgets and staffing, drives contract negotiations, and is accountable for projects with team members."
                }
            }
        };


        // --- Main Component ---
        const CalibrationTool = () => {
            const [activeTab, setActiveTab] = useState('compare'); 
            const [roleA, setRoleA] = useState('Specialist');
            const [roleB, setRoleB] = useState('Senior Specialist');
            const [showDiff, setShowDiff] = useState(false);
            const [selectedCompetency, setSelectedCompetency] = useState('Deliver Exceptionally');
            const [expandedSections, setExpandedSections] = useState({
                'Deliver Exceptionally': true,
                'Grow Expertise': false,
                'Grow Slalom': false,
                'Lead': false,
                'Track Specific Skills': false
            });

            const roles = [
                "Coordinator",
                "Specialist",
                "Senior Specialist",
                "Lead"
            ];

            const competencies = [
                "Deliver Exceptionally",
                "Grow Expertise",
                "Grow Slalom",
                "Lead",
                "Track Specific Skills"
            ];

            // Check if roles are consecutive to show the middle column
            const isConsecutive = useMemo(() => {
                const idxA = roles.indexOf(roleA);
                const idxB = roles.indexOf(roleB);
                return (idxB === idxA + 1);
            }, [roleA, roleB, roles]);

            const getDifferentiator = (comp, sub) => {
                const key = `${roleA}->${roleB}`;
                if (DIFFERENTIATORS[key] && DIFFERENTIATORS[key][comp] && DIFFERENTIATORS[key][comp][sub]) {
                    return DIFFERENTIATORS[key][comp][sub];
                }
                return null;
            };

            // --- ROLE EXPECTATIONS DATA ---
            const data = {
                "Coordinator": {
                    "summary": "A Coordinator works within established processes to complete tasks with immediate impact under the direction of a team leader. They focus on developing beginner Team Operations knowledge and skills through experience or training.",
                    "Deliver Exceptionally": {
                        "Core Expectations": ["Utilizes existing policies and procedures, support from peers, and direction from their people leader or supervisor to guide their work and meet objectives.", "If roadblocked, they recognize they are blocked and ask for help.", "Delivers clear written, verbal, and visual communications."],
                        "Skills": [
                            { name: "Prioritization", level: "Beginner", description: "Asks questions to understand priority changes and participates with a learner mindset." },
                            { name: "Personal Accountability", level: "Beginner", description: "Shows up on time, responds to communication promptly, recognizes roadblocks and asks for help." },
                            { name: "Stakeholder Management", level: "Beginner", description: "Aware of scope and goals, conveys information effectively, asks questions to learn perspectives." },
                            { name: "Problem Solving", level: "Beginner", description: "Identifies problems and seeks to understand parts, asks for help when needed." },
                            { name: "Communication & Influence", level: "Beginner", description: "Communicates clearly and inclusively, learns the language of Slalom." },
                            { name: "Decision Making", level: "Beginner", description: "Learns policies and procedures, asks for direction when making decisions." }
                        ]
                    },
                    "Grow Expertise": {
                        "Core Expectations": ["Builds knowledge of Slalom business, people, culture, principles, and practices.", "Demonstrates ability to develop skills and knowledge to complete assigned work.", "Builds rapport with colleagues and asks for their guidance when needed.", "Maintains information utilizing existing processes."],
                        "Skills": [
                            { name: "Global Business Acumen", level: "Beginner", description: "Learns about Slalom's global business model and how work connects to it." },
                            { name: "Coaching and Mentoring", level: "Beginner", description: "Learns about coaching and mentoring, seeks out a coach or mentor." },
                            { name: "Learning", level: "Beginner", description: "Takes responsibility for own professional growth, demonstrates curiosity." }
                        ]
                    },
                    "Grow Slalom": {
                        "Core Expectations": ["Seeks to clearly understand the team vision and strategy and how their work supports it.", "Engages in internal Slalom events and/or Slalom core courses.", "Develops authentic relationships with Slalom team members within own functional group.", "Learns how to apply established policies and procedures to day-to-day work and objectives."],
                        "Skills": [
                            { name: "Strategic Thinking", level: "Beginner", description: "Learns about strategic roadmap and Slalom's strategic vision." },
                            { name: "Relationship Building", level: "Beginner", description: "Learns about and exhibits Slalom's core values, engages through various channels." },
                            { name: "Innovation", level: "Beginner", description: "Learns existing processes and considers strengths/weaknesses, participates in innovative exchanges." }
                        ]
                    },
                    "Lead": {
                        "Core Expectations": ["Assumes positive intent, extends trust to others, and builds collaborative relationships with coworkers.", "Seeks out and accepts help when in need of support.", "Solicits feedback and thoughtfully responds to requested feedback.", "Actively appreciates contributions of all team members.", "Seeks support to learn from mistakes and failures and applies those learnings to future work.", "Demonstrates compassion, kindness, and empathy.", "Seeks to navigate productive versus unproductive conflict in support of effective teaming."],
                        "Skills": [
                            { name: "Emotional Intelligence", level: "Beginner", description: "Takes personal responsibility for impact, demonstrates compassion and empathy." },
                            { name: "Growth Mindset", level: "Beginner", description: "Recognizes and celebrates wins, shares mistakes with people leader to learn." },
                            { name: "Psychological Safety", level: "Beginner", description: "Seeks to understand different perspectives and cultures, keeps open mind." },
                            { name: "Conflict Navigation", level: "Beginner", description: "Learns difference between productive and unproductive conflict, assumes positive intent." },
                            { name: "Meaningful Feedback", level: "Beginner", description: "Understands importance of timely feedback, requests and listens to feedback." },
                            { name: "Career Development & Advocacy", level: "Beginner", description: "Demonstrates ambition and willingness to learn, grow, and progress." },
                            { name: "Connection to Business", level: "Beginner", description: "Communicates PTO timely, participates in 1:1s, enters time accurately." },
                            { name: "Performance Development", level: "Beginner", description: "Learns Slalom's approach to performance management." },
                            { name: "Change Leadership", level: "Beginner", description: "Exhibits flexibility with changing priorities, assumes positive intent." }
                        ]
                    },
                    "Track Specific Skills": {
                        "Core Expectations": [],
                        "Skills": [
                            { name: "Change Management", level: "Beginner", description: "Articulates weight of communication plans, owns tasks within workstreams." },
                            { name: "Event Planning", level: "Beginner", description: "Participates in day-of event support, prioritizes attendee experience." },
                            { name: "Office Management", level: "Beginner", description: "Warmly greets visitors, follows protocols, maintains office appearance." },
                            { name: "Process Improvement", level: "Beginner", description: "Articulates 'the why' behind current processes, follows processes as intended." },
                            { name: "Project Management", level: "Beginner", description: "Learns PM role value, articulates importance of timelines, contributes to tasks." },
                            { name: "Team Ops Scheduling", level: "Beginner", description: "Starts requests same day, schedules appropriate time zones, acts with discretion." }
                        ]
                    }
                },
                "Specialist": {
                    "summary": "A Specialist delivers high quality work to meet short term or operational objectives set by their team leader. They focus on developing foundational Team Operations knowledge and skills through experience or training.",
                    "Deliver Exceptionally": {
                        "Core Expectations": ["Utilizes existing policies and procedures, support from peers, and direction from their people leader or supervisor to inform decisions and priorities.", "Where relevant, provide insight and feedback to improve established processes or policies.", "Solves problems by decomposing a problem into its parts.", "Able to articulate roles, responsibilities, and expectations in the context of the team.", "Delivers clear written, verbal, and visual communications and develops the ability to communicate across varying points of view."],
                        "Skills": [
                            { name: "Prioritization", level: "Beginner", description: "Asks questions to understand priority changes and participates with a learner mindset." },
                            { name: "Personal Accountability", level: "Beginner", description: "Shows up on time, responds to communication promptly, recognizes roadblocks and asks for help." },
                            { name: "Stakeholder Management", level: "Beginner", description: "Aware of scope and goals, conveys information effectively, asks questions to learn perspectives." },
                            { name: "Problem Solving", level: "Beginner", description: "Identifies problems and seeks to understand parts, asks for help when needed." },
                            { name: "Communication & Influence", level: "Beginner", description: "Communicates clearly and inclusively, learns the language of Slalom." },
                            { name: "Decision Making", level: "Beginner", description: "Learns policies and procedures, asks for direction when making decisions." }
                        ]
                    },
                    "Grow Expertise": {
                        "Core Expectations": ["Maintains information utilizing existing processes.", "Builds rapport and relationships, leveraging curiosity to learn more.", "Builds progressive knowledge of Slalom business, people, culture, principles, and practices.", "Recognizes own opportunities for growth and deepens and broadens skills and knowledge to support personal development."],
                        "Skills": [
                            { name: "Global Business Acumen", level: "Beginner", description: "Learns about Slalom's global business model and how work connects to it." },
                            { name: "Coaching and Mentoring", level: "Beginner", description: "Learns about coaching and mentoring, seeks out a coach or mentor." },
                            { name: "Learning", level: "Beginner", description: "Takes responsibility for own professional growth, demonstrates curiosity." }
                        ]
                    },
                    "Grow Slalom": {
                        "Core Expectations": ["Seeks to clearly understand the team vision and strategy and how their work supports it.", "Develops authentic relationships with Slalom team members inside and outside of own functional group.", "Engages in internal Slalom events and/or Slalom core courses.", "Explores ways to be more innovative in day-to-day work inspired by Slalom values, leaders, and peers."],
                        "Skills": [
                            { name: "Strategic Thinking", level: "Beginner", description: "Learns about strategic roadmap and Slalom's strategic vision." },
                            { name: "Relationship Building", level: "Beginner", description: "Learns about and exhibits Slalom's core values, engages through various channels." },
                            { name: "Innovation", level: "Beginner", description: "Learns existing processes and considers strengths/weaknesses, participates in innovative exchanges." }
                        ]
                    },
                    "Lead": {
                        "Core Expectations": ["Seeks support to learn from mistakes and failures and applies those learnings to future work.", "Demonstrates compassion, kindness, and empathy.", "Seeks to navigate productive versus unproductive conflict in support of effective teaming.", "Assumes positive intent, extends trust to others and builds collaborative relationships with coworkers.", "Seeks out and accepts help when in need of support.", "Solicits feedback and thoughtfully responds to requested feedback.", "Actively appreciates contributions of all team members."],
                        "Skills": [
                            { name: "Emotional Intelligence", level: "Beginner", description: "Takes personal responsibility for impact, demonstrates compassion and empathy." },
                            { name: "Growth Mindset", level: "Beginner", description: "Recognizes and celebrates wins, shares mistakes with people leader to learn." },
                            { name: "Psychological Safety", level: "Beginner", description: "Seeks to understand different perspectives and cultures, keeps open mind." },
                            { name: "Conflict Navigation", level: "Beginner", description: "Learns difference between productive and unproductive conflict, assumes positive intent." },
                            { name: "Meaningful Feedback", level: "Beginner", description: "Understands importance of timely feedback, requests and listens to feedback." },
                            { name: "Career Development & Advocacy", level: "Beginner", description: "Demonstrates ambition and willingness to learn, grow, and progress." },
                            { name: "Connection to Business", level: "Beginner", description: "Communicates PTO timely, participates in 1:1s, enters time accurately." },
                            { name: "Performance Development", level: "Beginner", description: "Learns Slalom's approach to performance management." },
                            { name: "Change Leadership", level: "Beginner", description: "Exhibits flexibility with changing priorities, assumes positive intent." }
                        ]
                    },
                    "Track Specific Skills": {
                        "Core Expectations": [],
                        "Skills": [
                            { name: "Change Management", level: "Foundational", description: "Recognizes stakeholder impacts, builds job aids, owns workstreams." },
                            { name: "Event Planning", level: "Foundational", description: "Understands event types, reads contracts, determines event experience, works with vendors." },
                            { name: "Office Management", level: "Foundational", description: "Prioritizes and triages requests, points to appropriate resources, acts with discretion." },
                            { name: "Process Improvement", level: "Beginner", description: "Articulates 'the why' behind current processes, follows processes as intended." },
                            { name: "Project Management", level: "Beginner", description: "Learns PM role value, articulates importance of timelines, contributes to tasks." },
                            { name: "Team Ops Scheduling", level: "Foundational", description: "Avoids conflicts, meets SLAs, includes agendas, works within preferences." }
                        ]
                    }
                },
                "Senior Specialist": {
                    "summary": "A Sr Specialist delivers high quality work to meet broader team, project, or program objectives with minimal oversight and direction. They apply their foundational Team Operations knowledge and skills to contribute to innovative solutions.",
                    "Deliver Exceptionally": {
                        "Core Expectations": ["Works independently and prioritizes essential tasks and activities based on the team's needs.", "Provides insight and may participate in exchanges to improve or update established processes or policies.", "Systematically breaks down complex tasks and evaluates alternative solutions to solve problems.", "Recognizes when expectations are missed and takes action to achieve results.", "Delivers high-quality written, verbal, and visual communications within own team and cross-functionally."],
                        "Skills": [
                            { name: "Prioritization", level: "Foundational", description: "Collaborates on and influences prioritization, begins independent decisions, asks for perspectives." },
                            { name: "Personal Accountability", level: "Foundational", description: "Manages own calendar, prepares for tasks, communicates role and expectations, consistently delivers." },
                            { name: "Stakeholder Management", level: "Foundational", description: "Communicates scope/goals/status, considers multiple perspectives, drives discovery." },
                            { name: "Problem Solving", level: "Foundational", description: "Decomposes problems, evaluates solutions, seeks feedback on best path forward." },
                            { name: "Communication & Influence", level: "Foundational", description: "Communicates directly accounting for others' perspectives, actively listens." },
                            { name: "Decision Making", level: "Foundational", description: "Uses policies and direction to guide decisions, explores alternatives before deciding." }
                        ]
                    },
                    "Grow Expertise": {
                        "Core Expectations": ["Builds comprehensive knowledge of Slalom business, people, culture, principles, and practices and applies this knowledge in ways of working.", "Seeks out opportunities to deepen, broaden, and apply new knowledge and expand comfort zone.", "Encourages open and expansive dialogue by leading with curiosity.", "Captures outcomes and/or project deliverables to support knowledge management."],
                        "Skills": [
                            { name: "Global Business Acumen", level: "Foundational", description: "Understands how work may evolve in different contexts, leverages business model understanding." },
                            { name: "Coaching and Mentoring", level: "Foundational", description: "Provides support to those seeking mentorship, listens and asks questions." },
                            { name: "Learning", level: "Foundational", description: "Seeks new experiences and resources, reflects on failures for lessons learned." }
                        ]
                    },
                    "Grow Slalom": {
                        "Core Expectations": ["Directs and completes work that meaningfully contributes to team vision and strategy.", "Engages in internal Slalom events and/or Slalom core courses and seeks opportunities to share content and knowledge.", "Develops authentic relationships with Slalom team members inside and outside of own functional group and/or clients.", "Innovates new approaches to own work inspired by Slalom values, leaders, and peers."],
                        "Skills": [
                            { name: "Strategic Thinking", level: "Beginner", description: "Learns about strategic roadmap and Slalom's strategic vision." },
                            { name: "Relationship Building", level: "Foundational", description: "Seeks opportunities to connect with Slalom team members and contribute to culture." },
                            { name: "Innovation", level: "Foundational", description: "Challenges status quo using reason and data, collaborates in innovative exchanges." }
                        ]
                    },
                    "Lead": {
                        "Core Expectations": ["Controls unproductive behavior; builds trusting and respectful relationships.", "Openly and authentically shares thoughts and ideas with others; admits when unsure of answers.", "Receives and gives feedback with an open mind, curiosity, and respect.", "Approaches conflict with a mindset of getting it right versus being right.", "Demonstrates a spirit and application of continuous growth, learning, and goal setting.", "Proactively builds productive relationships with people from different backgrounds and perspectives.", "Attentively listens and seeks to incorporate others' points of view and minimize self-orientation.", "Enables healthy group dynamics by celebrating team wins and owning mistakes."],
                        "Skills": [
                            { name: "Emotional Intelligence", level: "Foundational", description: "Reflects on activities and impact, considers strengths and growing edges, shares mistakes." },
                            { name: "Growth Mindset", level: "Foundational", description: "Takes accountability for mistakes, self-reflects to identify growth opportunities." },
                            { name: "Psychological Safety", level: "Foundational", description: "Contributes to climate where differences are valued, understands power dynamics and bias." },
                            { name: "Conflict Navigation", level: "Foundational", description: "Listens and asks questions, communicates respectfully through disagreement." },
                            { name: "Meaningful Feedback", level: "Foundational", description: "Leverages SBI+ framework, solicits and takes in feedback on strengths/opportunities." },
                            { name: "Career Development & Advocacy", level: "Foundational", description: "Prioritizes learning about others' passions, makes connections to insights and opportunities." },
                            { name: "Connection to Business", level: "Foundational", description: "Participates in developmental opportunities within and outside own function." },
                            { name: "Performance Development", level: "Foundational", description: "Makes themselves available, uses Slalom's performance management tools effectively." },
                            { name: "Change Leadership", level: "Foundational", description: "Seeks to understand change, manages expectations with clarity on scope/timeline." }
                        ]
                    },
                    "Track Specific Skills": {
                        "Core Expectations": [],
                        "Skills": [
                            { name: "Change Management", level: "Intermediate", description: "Creates communication plans, tailors approach by audience, holds focus groups, actions plans." },
                            { name: "Event Planning", level: "Foundational", description: "Understands event types, reads contracts, determines event experience, works with vendors." },
                            { name: "Office Management", level: "Foundational", description: "Prioritizes and triages requests, points to appropriate resources, acts with discretion." },
                            { name: "Process Improvement", level: "Foundational", description: "Identifies gaps in processes, participates in brainstorms, requests permission for updates." },
                            { name: "Project Management", level: "Foundational", description: "Participates in working team, learns PM best practices, identifies risks." },
                            { name: "Team Ops Scheduling", level: "Intermediate", description: "Identifies when additional conversations needed, manages calendars with nuances, proactively collaborates." }
                        ]
                    }
                },
                "Lead": {
                    "summary": "A Lead delivers high quality work to meet broader team, project, or program objectives. They develop intermediate Team Operations knowledge and skills that enables them to make recommendations to improve existing processes and explore innovative solutions, enabling others to deliver high quality work as well. In addition, they actively mentor or coach team members.",
                    "Deliver Exceptionally": {
                        "Core Expectations": ["Works with a high degree of autonomy and contributes to objectives set by a direct supervisor or people leader with some latitude to explore and suggest alternative solutions.", "Seeks out the expertise and input of others and guides peers to enhance the quality of deliverables.", "Adapts to evolving expectations and responsibilities in the context of the team and develops new solutions to complex problems.", "Adapts their communication style to varying audiences and can articulate project scope and concerns to stakeholders."],
                        "Skills": [
                            { name: "Prioritization", level: "Intermediate", description: "Independently prioritizes by understanding objectives, communicates complexity and dependencies." },
                            { name: "Personal Accountability", level: "Foundational", description: "Manages own calendar, prepares for tasks, communicates role and expectations, consistently delivers." },
                            { name: "Stakeholder Management", level: "Foundational", description: "Communicates scope/goals/status, considers multiple perspectives, drives discovery." },
                            { name: "Problem Solving", level: "Intermediate", description: "Analyzes problems and context for risks/solutions, knows when/how to escalate." },
                            { name: "Communication & Influence", level: "Foundational", description: "Communicates directly accounting for others' perspectives, actively listens." },
                            { name: "Decision Making", level: "Foundational", description: "Uses policies and direction to guide decisions, explores alternatives before deciding." }
                        ]
                    },
                    "Grow Expertise": {
                        "Core Expectations": ["Seeks out opportunities to deepen, broaden, and apply new knowledge and expand comfort zone.", "Enhances quality of work through knowledge of Slalom business, people, culture, principles, and practices.", "Captures outcomes and/or project deliverables to support knowledge management.", "Encourages critical thinking and a growth mindset by asking powerful questions."],
                        "Skills": [
                            { name: "Global Business Acumen", level: "Foundational", description: "Understands how work may evolve in different contexts, leverages business model understanding." },
                            { name: "Coaching and Mentoring", level: "Intermediate", description: "Identifies when to coach vs mentor, shares experience, leverages powerful questions." },
                            { name: "Learning", level: "Foundational", description: "Seeks new experiences and resources, reflects on failures for lessons learned." }
                        ]
                    },
                    "Grow Slalom": {
                        "Core Expectations": ["Engages in internal Slalom events and/or Slalom core courses and seeks opportunities to share content and knowledge.", "Expands internal network and intentionally grows external network in areas of expertise.", "Proactively contributes to building team vision and strategy, including flagging risks and opportunities.", "Implements innovative thinking and approaches and encourages innovative thinking with team members."],
                        "Skills": [
                            { name: "Strategic Thinking", level: "Foundational", description: "Considers functional and Slalom strategy when planning, seeks function-specific initiatives." },
                            { name: "Relationship Building", level: "Foundational", description: "Seeks opportunities to connect with Slalom team members and contribute to culture." },
                            { name: "Innovation", level: "Intermediate", description: "Develops new methods for existing issues, collaborates on best ideas, puts ideas into practice." }
                        ]
                    },
                    "Lead": {
                        "Core Expectations": ["Leverages awareness of own and others' emotions to navigate differences successfully.", "Displays comfort with sharing mistakes and weaknesses.", "Provides and solicits timely, specific feedback, both positive and corrective.", "Models collaborative behaviors and engages in productive conflict.", "Proactively supports connecting employees to meaningful development experiences.*", "Ensures direct reports understand performance expectations and regularly solicits and provides performance feedback.*", "Seeks opportunities to stretch outside comfort zone, resulting in tangible learning and professional growth.", "Flexes natural style and approach to accommodate and thoughtfully understand others' perspectives.", "Articulates how others' needs relate to their own to enable effective partnership.", "Promotes positive team dialogue and discussion to create an environment where everyone can be their authentic self.", "Defines for direct reports how their work connects to and impacts Slalom's and the team's business goals.*", "Clearly translates organizational change for direct reports and supports them navigate the change.*", "* Only applies to people leaders"],
                        "Skills": [
                            { name: "Emotional Intelligence", level: "Foundational", description: "Reflects on activities and impact, considers strengths and growing edges, shares mistakes." },
                            { name: "Growth Mindset", level: "Foundational", description: "Takes accountability for mistakes, self-reflects to identify growth opportunities." },
                            { name: "Psychological Safety", level: "Foundational", description: "Contributes to climate where differences are valued, understands power dynamics and bias." },
                            { name: "Conflict Navigation", level: "Foundational", description: "Listens and asks questions, communicates respectfully through disagreement." },
                            { name: "Meaningful Feedback", level: "Foundational", description: "Leverages SBI+ framework, solicits and takes in feedback on strengths/opportunities." },
                            { name: "Career Development & Advocacy", level: "Intermediate", description: "Uses organizational resources, asks powerful questions, establishes development plans." },
                            { name: "Connection to Business", level: "Intermediate", description: "Runs effective 1:1s, aligns career goals with organizational objectives." },
                            { name: "Performance Development", level: "Intermediate", description: "Guides through challenging situations, provides frequent feedback, listens beyond facts." },
                            { name: "Change Leadership", level: "Intermediate", description: "Considers team perspective, listens to concerns, manages expectations through ambiguity." }
                        ]
                    },
                    "Track Specific Skills": {
                        "Core Expectations": [],
                        "Skills": [
                            { name: "Change Management", level: "Intermediate", description: "Creates communication plans, tailors approach by audience, holds focus groups, actions plans." },
                            { name: "Event Planning", level: "Intermediate", description: "Sets stakeholder expectations, manages budget/staffing, drives contract negotiations." },
                            { name: "Office Management", level: "Intermediate", description: "Completes purchases on time, builds relationships, executes engagement programs." },
                            { name: "Process Improvement", level: "Intermediate", description: "Proposes solutions for gaps, takes action on feedback opportunities, shares with community." },
                            { name: "Project Management", level: "Intermediate", description: "Accountable for projects with 1-3 members, develops project plans, conducts retrospectives." },
                            { name: "Team Ops Scheduling", level: "Intermediate", description: "Identifies when additional conversations needed, manages calendars with nuances, proactively collaborates." }
                        ]
                    }
                }
            };

            const subCompetencies = {
                "Deliver Exceptionally": ["Core Expectations", "Skills"],
                "Grow Expertise": ["Core Expectations", "Skills"],
                "Grow Slalom": ["Core Expectations", "Skills"],
                "Lead": ["Core Expectations", "Skills"],
                "Track Specific Skills": ["Skills"]
            };

            const toggleSection = (section) => {
                setExpandedSections(prev => ({
                    ...prev,
                    [section]: !prev[section]
                }));
            };

            // Safe getter for data
            const getExpectations = (role, section, subSection) => {
                try {
                    if (subSection === "Skills") {
                        return data[role][section][subSection] || [];
                    }
                    return data[role][section][subSection] || ["No specific expectations listed."];
                } catch (e) {
                    return subSection === "Skills" ? [] : ["No specific expectations listed."];
                }
            };

            // Get competency icon and color - Team Operations uses purple/indigo
            const getCompetencyStyle = (comp) => {
                switch(comp) {
                    case "Deliver Exceptionally":
                        return { bg: "bg-emerald-100", iconBg: "bg-emerald-500", text: "text-emerald-700", border: "border-emerald-200" };
                    case "Grow Expertise":
                        return { bg: "bg-violet-100", iconBg: "bg-violet-500", text: "text-violet-700", border: "border-violet-200" };
                    case "Grow Slalom":
                        return { bg: "bg-indigo-100", iconBg: "bg-slalom-purple", text: "text-indigo-700", border: "border-indigo-200" };
                    case "Lead":
                        return { bg: "bg-orange-100", iconBg: "bg-slalom-orange", text: "text-orange-700", border: "border-orange-200" };
                    case "Track Specific Skills":
                        return { bg: "bg-slate-100", iconBg: "bg-slate-500", text: "text-slate-700", border: "border-slate-200" };
                    default:
                        return { bg: "bg-gray-100", iconBg: "bg-gray-500", text: "text-gray-700", border: "border-gray-200" };
                }
            };

            // Get proficiency badge style
            const getProficiencyStyle = (level) => {
                switch(level) {
                    case "Beginner": return "proficiency-beginner";
                    case "Foundational": return "proficiency-foundational";
                    case "Intermediate": return "proficiency-intermediate";
                    case "Advanced": return "proficiency-advanced";
                    case "Expert": return "proficiency-expert";
                    default: return "proficiency-beginner";
                }
            };

            return (
                <div className="min-h-screen p-4 md:p-8 font-slalom text-slate-800">
                <div className="max-w-7xl mx-auto">
                    
                    {/* Header with Slalom Branding */}
                    <div className="gradient-header rounded-2xl p-8 mb-8 text-white shadow-xl">
                        <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                            <div>
                                <div className="flex items-center gap-3 mb-2">
                                    <a href="./" className="bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm transition-all flex items-center gap-1">
                                        <Home size={14} />
                                        All Tools
                                    </a>
                                    <span className="bg-white/20 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm">
                                        TEAM OPERATIONS TRACK
                                    </span>
                                </div>
                                <h1 className="text-3xl md:text-4xl font-bold mb-2">Role Calibration Tool</h1>
                                <p className="text-white/80 text-lg">Compare expectations and skills across Team Operations roles</p>
                            </div>
                            <div className="flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-xl p-1">
                                <button 
                                    onClick={() => setActiveTab('compare')}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${activeTab === 'compare' ? 'bg-white text-indigo-600 shadow-lg' : 'text-white hover:bg-white/10'}`}
                                >
                                    <Layout size={18} />
                                    <span className="font-medium">Compare</span>
                                </button>
                                <button 
                                    onClick={() => setActiveTab('evolution')}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${activeTab === 'evolution' ? 'bg-white text-indigo-600 shadow-lg' : 'text-white hover:bg-white/10'}`}
                                >
                                    <Eye size={18} />
                                    <span className="font-medium">Evolution</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Track Info Banner */}
                    <div className="bg-indigo-50 border border-indigo-200 rounded-xl p-4 mb-6 flex items-start gap-3">
                        <div className="bg-indigo-100 p-2 rounded-lg">
                            <Settings className="text-indigo-600" size={20} />
                        </div>
                        <div>
                            <h3 className="font-semibold text-indigo-900">Team Operations Track</h3>
                            <p className="text-sm text-indigo-700">Responsible for partnering in the creation and operationalization of core programs (onboarding, events, recognition, executive administration, workplace, etc.), cultivating culture, and partnering with leaders to foster the employee experience.</p>
                        </div>
                    </div>

                    {activeTab === 'compare' ? (
                        <>
                            {/* Role Selection */}
                            <div className="bg-white rounded-2xl shadow-lg p-6 mb-8">
                                <div className="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8">
                                    <div className="w-full md:w-64">
                                        <label className="block text-sm font-medium text-slate-500 mb-2">From Role</label>
                                        <select 
                                            value={roleA} 
                                            onChange={(e) => setRoleA(e.target.value)}
                                            className="w-full p-3 border-2 border-slate-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all bg-slate-50 font-medium"
                                        >
                                            {roles.map(r => <option key={r} value={r}>{r}</option>)}
                                        </select>
                                    </div>
                                    
                                    <div className="flex items-center justify-center w-12 h-12 bg-gradient-to-r from-indigo-500 to-violet-500 rounded-full shadow-lg">
                                        <ArrowRight className="text-white" size={24} />
                                    </div>
                                    
                                    <div className="w-full md:w-64">
                                        <label className="block text-sm font-medium text-slate-500 mb-2">To Role</label>
                                        <select 
                                            value={roleB} 
                                            onChange={(e) => setRoleB(e.target.value)}
                                            className="w-full p-3 border-2 border-slate-200 rounded-xl focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-slate-50 font-medium"
                                        >
                                            {roles.map(r => <option key={r} value={r}>{r}</option>)}
                                        </select>
                                    </div>
                                </div>
                                
                                {/* Role Summaries */}
                                <div className="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div className="bg-indigo-50 rounded-xl p-4">
                                        <h4 className="font-semibold text-indigo-900 mb-2">{roleA}</h4>
                                        <p className="text-sm text-indigo-700">{data[roleA]?.summary}</p>
                                    </div>
                                    <div className="bg-violet-50 rounded-xl p-4">
                                        <h4 className="font-semibold text-violet-900 mb-2">{roleB}</h4>
                                        <p className="text-sm text-violet-700">{data[roleB]?.summary}</p>
                                    </div>
                                </div>
                                
                                {/* Diff Toggle - Market Solutions style */}
                                <div className="flex flex-wrap justify-center gap-3 mt-6 pt-6 border-t border-slate-100">
                                    <button
                                        onClick={() => setShowDiff(!showDiff)}
                                        className={`flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-semibold transition-all border-2 ${
                                            showDiff
                                            ? 'bg-indigo-100 text-indigo-700 border-indigo-300'
                                            : 'bg-white text-slate-600 border-slate-200 hover:bg-slate-50'
                                        }`}
                                    >
                                        <Eye size={16} />
                                        {showDiff ? 'Hide Differences' : 'Highlight Differences'}
                                    </button>
                                </div>
                                
                                {showDiff && (
                                    <div className="text-center text-xs text-slate-500 mt-4 flex items-center justify-center gap-6">
                                        <span className="flex items-center gap-2">
                                            <span className="inline-block w-4 h-4 bg-gradient-to-r from-indigo-100 to-indigo-200 rounded border border-indigo-300"></span>
                                            Unique to {roleA}
                                        </span>
                                        <span className="flex items-center gap-2">
                                            <span className="inline-block w-4 h-4 bg-gradient-to-r from-violet-100 to-violet-200 rounded border border-violet-300"></span>
                                            Unique to {roleB}
                                        </span>
                                    </div>
                                )}
                            </div>

                            {/* Comparison Sections */}
                            <div className="space-y-4">
                                {competencies.map(comp => {
                                    const style = getCompetencyStyle(comp);
                                    return (
                                    <div key={comp} className="section-card bg-white overflow-hidden">
                                        <button 
                                            onClick={() => toggleSection(comp)}
                                            className={`w-full p-5 flex items-center justify-between ${style.bg} hover:opacity-90 transition-all text-left`}
                                        >
                                            <div className="flex items-center gap-4">
                                                <div className={`competency-icon ${style.iconBg} shadow-lg`}>
                                                    {comp === "Deliver Exceptionally" && <CheckCircle className="text-white" size={20} />}
                                                    {comp === "Grow Expertise" && <Briefcase className="text-white" size={20} />}
                                                    {comp === "Grow Slalom" && <Building className="text-white" size={20} />}
                                                    {comp === "Lead" && <Users className="text-white" size={20} />}
                                                    {comp === "Track Specific Skills" && <Wrench className="text-white" size={20} />}
                                                </div>
                                                <h2 className={`text-lg font-bold ${style.text}`}>{comp}</h2>
                                            </div>
                                            <div className={`w-8 h-8 rounded-full ${style.iconBg}/20 flex items-center justify-center`}>
                                                {expandedSections[comp] ? <ChevronUp className={style.text} /> : <ChevronDown className={style.text} />}
                                            </div>
                                        </button>

                                        {expandedSections[comp] && (
                                            <div className={`section-content p-6 grid ${isConsecutive ? 'grid-cols-1 lg:grid-cols-3' : 'grid-cols-1 md:grid-cols-2'} gap-8`}>
                                            {subCompetencies[comp].map(sub => {
                                                const itemsA = getExpectations(roleA, comp, sub);
                                                const itemsB = getExpectations(roleB, comp, sub);
                                                const diffText = getDifferentiator(comp, sub === "Core Expectations" ? "Core Expectations" : "Skills");
                                                
                                                return (
                                                <React.Fragment key={sub}>
                                                    <div className={`${isConsecutive ? 'col-span-1 lg:col-span-3' : 'col-span-1 md:col-span-2'} mb-2 mt-4 border-b-2 ${style.border} pb-3`}>
                                                        <h3 className={`text-sm font-bold uppercase tracking-wider ${style.text}`}>{sub}</h3>
                                                    </div>
                                                    
                                                    {/* Role A Column */}
                                                    <div className="bg-slate-50 rounded-xl p-5">
                                                        <h4 className="font-semibold text-indigo-600 mb-4 flex items-center gap-2">
                                                            <span className="w-2 h-2 bg-indigo-500 rounded-full"></span>
                                                            {roleA}
                                                        </h4>
                                                        {sub === "Skills" ? (
                                                            <div className="space-y-3">
                                                                {itemsA.map((skill, idx) => (
                                                                    <div key={idx} className="bg-white rounded-lg p-3 border border-slate-200">
                                                                        <div className="flex items-center justify-between mb-1">
                                                                            <span className="font-medium text-slate-800 text-sm">{skill.name}</span>
                                                                            <span className={`proficiency-badge ${getProficiencyStyle(skill.level)}`}>{skill.level}</span>
                                                                        </div>
                                                                        <p className="text-xs text-slate-500">{skill.description}</p>
                                                                    </div>
                                                                ))}
                                                            </div>
                                                        ) : (
                                                            <ul className="space-y-3">
                                                                {itemsA.map((item, idx) => {
                                                                    let renderedItem = item;
                                                                    if (showDiff) {
                                                                        const bestMatchIdx = findBestMatch(item, itemsB);
                                                                        if (bestMatchIdx !== -1) {
                                                                            const { diffA } = computeDiff(item, itemsB[bestMatchIdx]);
                                                                            renderedItem = <DiffText segments={diffA} highlightClass="diff-highlight-a" />;
                                                                        } else {
                                                                            renderedItem = <span className="diff-highlight-a">{item}</span>;
                                                                        }
                                                                    }
                                                                    return (
                                                                        <li key={idx} className="text-sm text-slate-700 leading-relaxed flex gap-3">
                                                                            <span className="text-indigo-400 mt-1.5 text-lg leading-none"></span>
                                                                            <span>{renderedItem}</span>
                                                                        </li>
                                                                    );
                                                                })}
                                                            </ul>
                                                        )}
                                                    </div>

                                                    {/* Middle Column - Differentiator (only when consecutive) */}
                                                    {isConsecutive && (
                                                        <div className="bg-gradient-to-b from-amber-50 to-orange-50 rounded-xl p-5 border-2 border-amber-200">
                                                            <h4 className="font-semibold text-amber-700 mb-4 flex items-center gap-2">
                                                                <TrendingUp size={16} />
                                                                Key Progression
                                                            </h4>
                                                            {diffText ? (
                                                                <p className="text-sm text-amber-800 leading-relaxed">{diffText}</p>
                                                            ) : (
                                                                <p className="text-sm text-amber-600 italic">Compare expectations to identify key differences.</p>
                                                            )}
                                                        </div>
                                                    )}

                                                    {/* Role B Column */}
                                                    <div className="bg-violet-50/50 rounded-xl p-5 border border-violet-200">
                                                        <h4 className="font-semibold text-violet-600 mb-4 flex items-center gap-2">
                                                            <span className="w-2 h-2 bg-violet-500 rounded-full"></span>
                                                            {roleB}
                                                        </h4>
                                                        {sub === "Skills" ? (
                                                            <div className="space-y-3">
                                                                {itemsB.map((skill, idx) => {
                                                                    const skillA = itemsA.find(s => s.name === skill.name);
                                                                    const levelChanged = skillA && skillA.level !== skill.level;
                                                                    return (
                                                                        <div key={idx} className={`bg-white rounded-lg p-3 border ${levelChanged && showDiff ? 'border-violet-300 bg-violet-50' : 'border-slate-200'}`}>
                                                                            <div className="flex items-center justify-between mb-1">
                                                                                <span className="font-medium text-slate-800 text-sm">{skill.name}</span>
                                                                                <div className="flex items-center gap-1">
                                                                                    {levelChanged && showDiff && (
                                                                                        <span className={`proficiency-badge ${getProficiencyStyle(skillA.level)} opacity-50 line-through`}>{skillA.level}</span>
                                                                                    )}
                                                                                    <span className={`proficiency-badge ${getProficiencyStyle(skill.level)}`}>{skill.level}</span>
                                                                                </div>
                                                                            </div>
                                                                            <p className="text-xs text-slate-500">{skill.description}</p>
                                                                        </div>
                                                                    );
                                                                })}
                                                            </div>
                                                        ) : (
                                                            <ul className="space-y-3">
                                                                {itemsB.map((item, idx) => {
                                                                    let renderedItem = item;
                                                                    if (showDiff) {
                                                                        const bestMatchIdx = findBestMatch(item, itemsA);
                                                                        if (bestMatchIdx !== -1) {
                                                                            const { diffB } = computeDiff(itemsA[bestMatchIdx], item);
                                                                            renderedItem = <DiffText segments={diffB} highlightClass="diff-highlight-b" />;
                                                                        } else {
                                                                            renderedItem = <span className="diff-highlight-b">{item}</span>;
                                                                        }
                                                                    }
                                                                    return (
                                                                        <li key={idx} className="text-sm text-slate-700 leading-relaxed flex gap-3">
                                                                            <span className="text-violet-400 mt-1.5 text-lg leading-none"></span>
                                                                            <span>{renderedItem}</span>
                                                                        </li>
                                                                    );
                                                                })}
                                                            </ul>
                                                        )}
                                                    </div>
                                                </React.Fragment>
                                                );
                                            })}
                                            </div>
                                        )}
                                    </div>
                                    );
                                })}
                            </div>
                        </>
                    ) : (
                        /* Evolution View */
                        <div className="bg-white rounded-2xl shadow-lg p-6">
                            <div className="mb-6">
                                <label className="block text-sm font-medium text-slate-500 mb-2">Select Competency to View Evolution</label>
                                <select 
                                    value={selectedCompetency} 
                                    onChange={(e) => setSelectedCompetency(e.target.value)}
                                    className="w-full md:w-64 p-3 border-2 border-slate-200 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all bg-slate-50 font-medium"
                                >
                                    {competencies.map(c => <option key={c} value={c}>{c}</option>)}
                                </select>
                            </div>

                            {/* Skills Evolution Matrix */}
                            {subCompetencies[selectedCompetency].includes("Skills") && (
                                <div className="mb-8">
                                    <h3 className="text-lg font-bold text-slate-800 mb-4">Skills Proficiency Progression</h3>
                                    <div className="overflow-x-auto">
                                        <table className="w-full border-collapse">
                                            <thead>
                                                <tr>
                                                    <th className="text-left p-3 bg-slate-100 rounded-tl-lg font-semibold text-slate-600">Skill</th>
                                                    {roles.map((role, idx) => (
                                                        <th key={role} className={`p-3 bg-slate-100 font-semibold text-slate-600 text-center ${idx === roles.length - 1 ? 'rounded-tr-lg' : ''}`}>
                                                            {role}
                                                        </th>
                                                    ))}
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {data["Lead"][selectedCompetency]?.Skills?.map((skill, idx) => (
                                                    <tr key={skill.name} className={idx % 2 === 0 ? 'bg-white' : 'bg-slate-50'}>
                                                        <td className="p-3 font-medium text-slate-700 border-b border-slate-100">{skill.name}</td>
                                                        {roles.map(role => {
                                                            const roleSkill = data[role][selectedCompetency]?.Skills?.find(s => s.name === skill.name);
                                                            return (
                                                                <td key={role} className="p-3 text-center border-b border-slate-100">
                                                                    {roleSkill && (
                                                                        <span className={`proficiency-badge ${getProficiencyStyle(roleSkill.level)}`}>
                                                                            {roleSkill.level}
                                                                        </span>
                                                                    )}
                                                                </td>
                                                            );
                                                        })}
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            )}

                            {/* Core Expectations Evolution */}
                            {subCompetencies[selectedCompetency].includes("Core Expectations") && (
                                <div>
                                    <h3 className="text-lg font-bold text-slate-800 mb-4">Core Expectations by Role</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                        {roles.map((role, idx) => {
                                            const expectations = getExpectations(role, selectedCompetency, "Core Expectations");
                                            const colors = ['bg-indigo-50 border-indigo-200', 'bg-violet-50 border-violet-200', 'bg-purple-50 border-purple-200', 'bg-fuchsia-50 border-fuchsia-200'];
                                            const textColors = ['text-indigo-700', 'text-violet-700', 'text-purple-700', 'text-fuchsia-700'];
                                            return (
                                                <div key={role} className={`rounded-xl p-4 border-2 ${colors[idx]}`}>
                                                    <h4 className={`font-bold mb-3 ${textColors[idx]}`}>{role}</h4>
                                                    <ul className="space-y-2">
                                                        {expectations.map((exp, i) => (
                                                            <li key={i} className="text-sm text-slate-600 flex items-start gap-2">
                                                                <span className={textColors[idx]}></span>
                                                                <span>{exp}</span>
                                                            </li>
                                                        ))}
                                                    </ul>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    {/* Footer */}
                    <div className="mt-8 text-center text-sm text-slate-400">
                        <p>Slalom Team Operations Track Role Calibration Tool  Based on official competency frameworks</p>
                    </div>
                </div>
                </div>
            );
        };

        ReactDOM.render(<CalibrationTool />, document.getElementById('root'));
    </script>
</body>
</html>